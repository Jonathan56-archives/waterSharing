print(plot_list[[i]])
dev.off()
}
dev.off()
# Save plots to jpeg making a separate file for each plot.
for (i in 1:length(unique.vars)) {
plot.var = unique.vars[i]
name <- substring(plot.var,1,35)
mypath <- file.path("/Users/Diego/Desktop/Projects/Energy_Transitions",paste(name,".jpg",sep = ""))
jpeg(file=mypath)
print(plot_list[[i]])
dev.off()
}
unique.vars[i]
all.vars <- subset(all.vars,all.vars$Series.Name != 'Present value of external debt (current US$)' & all.vars$Series.Name != 'Present value of external debt (current US$)' & all.vars$Series.Name != 'Present value of external debt (% of GNI)' & all.vars$Series.Name != 'Population growth (annual %)')
energy.data <- subset(all.vars,all.vars$Series.Name=='Electricity production from renewable sources, excluding hydroelectric (% of total)') %>% mutate(percentage=value)
unique.vars <- unique(all.vars$Series.Name)
#For loop to create all plots
plot_list = list()
for (i in 1:length(unique.vars)) {
plot.var = unique.vars[i]
energy.sub <- subset(energy.data,energy.data$Series.Name=='Electricity production from renewable sources, excluding hydroelectric (% of total)' & energy.data$year == 'X2012..YR2012.') %>% select(Country.Name,percentage)
var.sub <- subset(all.vars,all.vars$Series.Name==plot.var & all.vars$year == 'X2012..YR2012.') %>% select(Country.Name,value)
merged <- join(var.sub,energy.sub,by=('Country.Name'),type='left',match='all')
p <- ggplot(merged,aes(x=value,y=percentage,label=Country.Name)) + geom_point() + geom_text(aes(label=Country.Name),hjust=1, vjust=1,size=3) + xlab(plot.var) + ylab('Generation from Non-Hydro Renewable Resources')
plot_list[[i]] = p
}
# Save plots to jpeg making a separate file for each plot.
for (i in 1:length(unique.vars)) {
plot.var = unique.vars[i]
name <- substring(plot.var,1,35)
mypath <- file.path("/Users/Diego/Desktop/Projects/Energy_Transitions",paste(name,".jpg",sep = ""))
jpeg(file=mypath)
print(plot_list[[i]])
dev.off()
}
unique.vars[i]
all.vars <- subset(all.vars,all.vars$Series.Name != 'Present value of external debt (current US$)' & all.vars$Series.Name != 'Present value of external debt (current US$)' & all.vars$Series.Name != 'Present value of external debt (% of GNI)' & all.vars$Series.Name != 'Population growth (annual %)' & all.vars$Series.Name != ' ICT goods imports (% total goods imports)')
energy.data <- subset(all.vars,all.vars$Series.Name=='Electricity production from renewable sources, excluding hydroelectric (% of total)') %>% mutate(percentage=value)
unique.vars <- unique(all.vars$Series.Name)
#For loop to create all plots
plot_list = list()
for (i in 1:length(unique.vars)) {
plot.var = unique.vars[i]
energy.sub <- subset(energy.data,energy.data$Series.Name=='Electricity production from renewable sources, excluding hydroelectric (% of total)' & energy.data$year == 'X2012..YR2012.') %>% select(Country.Name,percentage)
var.sub <- subset(all.vars,all.vars$Series.Name==plot.var & all.vars$year == 'X2012..YR2012.') %>% select(Country.Name,value)
merged <- join(var.sub,energy.sub,by=('Country.Name'),type='left',match='all')
p <- ggplot(merged,aes(x=value,y=percentage,label=Country.Name)) + geom_point() + geom_text(aes(label=Country.Name),hjust=1, vjust=1,size=3) + xlab(plot.var) + ylab('Generation from Non-Hydro Renewable Resources')
plot_list[[i]] = p
}
# Save plots to jpeg making a separate file for each plot.
for (i in 1:length(unique.vars)) {
plot.var = unique.vars[i]
name <- substring(plot.var,1,35)
mypath <- file.path("/Users/Diego/Desktop/Projects/Energy_Transitions",paste(name,".jpg",sep = ""))
jpeg(file=mypath)
print(plot_list[[i]])
dev.off()
}
unique.vars[i]
all.vars <- subset(all.vars,all.vars$Series.Name != 'Present value of external debt (current US$)' & all.vars$Series.Name != 'Present value of external debt (current US$)' & all.vars$Series.Name != 'Present value of external debt (% of GNI)' & all.vars$Series.Name != 'Population growth (annual %)' & all.vars$Series.Name != 'ICT goods imports (% total goods imports)')
energy.data <- subset(all.vars,all.vars$Series.Name=='Electricity production from renewable sources, excluding hydroelectric (% of total)') %>% mutate(percentage=value)
unique.vars <- unique(all.vars$Series.Name)
#For loop to create all plots
plot_list = list()
for (i in 1:length(unique.vars)) {
plot.var = unique.vars[i]
energy.sub <- subset(energy.data,energy.data$Series.Name=='Electricity production from renewable sources, excluding hydroelectric (% of total)' & energy.data$year == 'X2012..YR2012.') %>% select(Country.Name,percentage)
var.sub <- subset(all.vars,all.vars$Series.Name==plot.var & all.vars$year == 'X2012..YR2012.') %>% select(Country.Name,value)
merged <- join(var.sub,energy.sub,by=('Country.Name'),type='left',match='all')
p <- ggplot(merged,aes(x=value,y=percentage,label=Country.Name)) + geom_point() + geom_text(aes(label=Country.Name),hjust=1, vjust=1,size=3) + xlab(plot.var) + ylab('Generation from Non-Hydro Renewable Resources')
plot_list[[i]] = p
}
# Save plots to jpeg making a separate file for each plot.
for (i in 1:length(unique.vars)) {
plot.var = unique.vars[i]
name <- substring(plot.var,1,35)
mypath <- file.path("/Users/Diego/Desktop/Projects/Energy_Transitions",paste(name,".jpg",sep = ""))
jpeg(file=mypath)
print(plot_list[[i]])
dev.off()
}
unique.vars[i]
all.vars <- subset(all.vars,all.vars$Series.Name != 'Present value of external debt (current US$)' & all.vars$Series.Name != 'Present value of external debt (current US$)' & all.vars$Series.Name != 'Present value of external debt (% of GNI)' & all.vars$Series.Name != 'Population growth (annual %)' & all.vars$Series.Name != 'ICT goods imports (% total goods imports)' & all.vars$Series.Name != 'Energy related methane emissions (% of total)')
energy.data <- subset(all.vars,all.vars$Series.Name=='Electricity production from renewable sources, excluding hydroelectric (% of total)') %>% mutate(percentage=value)
unique.vars <- unique(all.vars$Series.Name)
dev.off()
#For loop to create all plots
plot_list = list()
for (i in 1:length(unique.vars)) {
plot.var = unique.vars[i]
energy.sub <- subset(energy.data,energy.data$Series.Name=='Electricity production from renewable sources, excluding hydroelectric (% of total)' & energy.data$year == 'X2012..YR2012.') %>% select(Country.Name,percentage)
var.sub <- subset(all.vars,all.vars$Series.Name==plot.var & all.vars$year == 'X2012..YR2012.') %>% select(Country.Name,value)
merged <- join(var.sub,energy.sub,by=('Country.Name'),type='left',match='all')
p <- ggplot(merged,aes(x=value,y=percentage,label=Country.Name)) + geom_point() + geom_text(aes(label=Country.Name),hjust=1, vjust=1,size=3) + xlab(plot.var) + ylab('Generation from Non-Hydro Renewable Resources')
plot_list[[i]] = p
}
# Save plots to jpeg making a separate file for each plot.
for (i in 1:length(unique.vars)) {
plot.var = unique.vars[i]
name <- substring(plot.var,1,35)
mypath <- file.path("/Users/Diego/Desktop/Projects/Energy_Transitions",paste(name,".jpg",sep = ""))
jpeg(file=mypath)
print(plot_list[[i]])
dev.off()
}
unique.vars <- unique(all.vars$Series.Name)
unique.vars[i]
all.vars <- subset(all.vars,all.vars$Series.Name != 'Present value of external debt (current US$)' & all.vars$Series.Name != 'Present value of external debt (current US$)' & all.vars$Series.Name != 'Present value of external debt (% of GNI)' & all.vars$Series.Name != 'Population growth (annual %)' & all.vars$Series.Name != 'ICT goods imports (% total goods imports)' & all.vars$Series.Name != 'Energy related methane emissions (% of total)' & all.vars$Series.Name != 'Ease of doing business index (1=most business-friendly regulations)')
energy.data <- subset(all.vars,all.vars$Series.Name=='Electricity production from renewable sources, excluding hydroelectric (% of total)') %>% mutate(percentage=value)
unique.vars <- unique(all.vars$Series.Name)
#For loop to create all plots
plot_list = list()
for (i in 1:length(unique.vars)) {
plot.var = unique.vars[i]
energy.sub <- subset(energy.data,energy.data$Series.Name=='Electricity production from renewable sources, excluding hydroelectric (% of total)' & energy.data$year == 'X2012..YR2012.') %>% select(Country.Name,percentage)
var.sub <- subset(all.vars,all.vars$Series.Name==plot.var & all.vars$year == 'X2012..YR2012.') %>% select(Country.Name,value)
merged <- join(var.sub,energy.sub,by=('Country.Name'),type='left',match='all')
p <- ggplot(merged,aes(x=value,y=percentage,label=Country.Name)) + geom_point() + geom_text(aes(label=Country.Name),hjust=1, vjust=1,size=3) + xlab(plot.var) + ylab('Generation from Non-Hydro Renewable Resources')
plot_list[[i]] = p
}
# Save plots to jpeg making a separate file for each plot.
for (i in 1:length(unique.vars)) {
plot.var = unique.vars[i]
name <- substring(plot.var,1,35)
mypath <- file.path("/Users/Diego/Desktop/Projects/Energy_Transitions",paste(name,".jpg",sep = ""))
jpeg(file=mypath)
print(plot_list[[i]])
dev.off()
}
unique.vars[i]
all.vars <- subset(all.vars,all.vars$Series.Name != 'Present value of external debt (current US$)' & all.vars$Series.Name != 'Present value of external debt (current US$)' & all.vars$Series.Name != 'Present value of external debt (% of GNI)' & all.vars$Series.Name != 'Population growth (annual %)' & all.vars$Series.Name != 'ICT goods imports (% total goods imports)' & all.vars$Series.Name != 'Energy related methane emissions (% of total)' & all.vars$Series.Name != 'Ease of doing business index (1=most business-friendly regulations)' & all.vars$Series.Name != 'Droughts, floods, extreme temperatures (% of population, average 1990-2009)')
energy.data <- subset(all.vars,all.vars$Series.Name=='Electricity production from renewable sources, excluding hydroelectric (% of total)') %>% mutate(percentage=value)
unique.vars <- unique(all.vars$Series.Name)
#For loop to create all plots
plot_list = list()
for (i in 1:length(unique.vars)) {
plot.var = unique.vars[i]
energy.sub <- subset(energy.data,energy.data$Series.Name=='Electricity production from renewable sources, excluding hydroelectric (% of total)' & energy.data$year == 'X2012..YR2012.') %>% select(Country.Name,percentage)
var.sub <- subset(all.vars,all.vars$Series.Name==plot.var & all.vars$year == 'X2012..YR2012.') %>% select(Country.Name,value)
merged <- join(var.sub,energy.sub,by=('Country.Name'),type='left',match='all')
p <- ggplot(merged,aes(x=value,y=percentage,label=Country.Name)) + geom_point() + geom_text(aes(label=Country.Name),hjust=1, vjust=1,size=3) + xlab(plot.var) + ylab('Generation from Non-Hydro Renewable Resources')
plot_list[[i]] = p
}
# Save plots to jpeg making a separate file for each plot.
for (i in 1:length(unique.vars)) {
plot.var = unique.vars[i]
name <- substring(plot.var,1,35)
mypath <- file.path("/Users/Diego/Desktop/Projects/Energy_Transitions",paste(name,".jpg",sep = ""))
jpeg(file=mypath)
print(plot_list[[i]])
dev.off()
}
dev.off()
# Save plots to jpeg making a separate file for each plot.
for (i in 1:length(unique.vars)) {
plot.var = unique.vars[i]
name <- substring(plot.var,1,35)
mypath <- file.path("/Users/Diego/Desktop/Projects/Energy_Transitions",paste(name,".jpg",sep = ""))
jpeg(file=mypath)
print(plot_list[[i]])
dev.off()
}
unique.vars[i]
unique.vars[i]
all.vars <- subset(all.vars,all.vars$Series.Name != 'Present value of external debt (current US$)' & all.vars$Series.Name != 'Present value of external debt (current US$)' & all.vars$Series.Name != 'Present value of external debt (% of GNI)' & all.vars$Series.Name != 'Population growth (annual %)' & all.vars$Series.Name != 'ICT goods imports (% total goods imports)' & all.vars$Series.Name != 'Energy related methane emissions (% of total)' & all.vars$Series.Name != 'Ease of doing business index (1=most business-friendly regulations)' & all.vars$Series.Name != 'Droughts, floods, extreme temperatures (% of population, average 1990-2009)' & all.vars$Series.Name !='Combustible renewables and waste (% of total energy)')
energy.data <- subset(all.vars,all.vars$Series.Name=='Electricity production from renewable sources, excluding hydroelectric (% of total)') %>% mutate(percentage=value)
unique.vars <- unique(all.vars$Series.Name)
#For loop to create all plots
plot_list = list()
for (i in 1:length(unique.vars)) {
plot.var = unique.vars[i]
energy.sub <- subset(energy.data,energy.data$Series.Name=='Electricity production from renewable sources, excluding hydroelectric (% of total)' & energy.data$year == 'X2012..YR2012.') %>% select(Country.Name,percentage)
var.sub <- subset(all.vars,all.vars$Series.Name==plot.var & all.vars$year == 'X2012..YR2012.') %>% select(Country.Name,value)
merged <- join(var.sub,energy.sub,by=('Country.Name'),type='left',match='all')
p <- ggplot(merged,aes(x=value,y=percentage,label=Country.Name)) + geom_point() + geom_text(aes(label=Country.Name),hjust=1, vjust=1,size=3) + xlab(plot.var) + ylab('Generation from Non-Hydro Renewable Resources')
plot_list[[i]] = p
}
dev.off()
# Save plots to jpeg making a separate file for each plot.
for (i in 1:length(unique.vars)) {
plot.var = unique.vars[i]
name <- substring(plot.var,1,35)
mypath <- file.path("/Users/Diego/Desktop/Projects/Energy_Transitions",paste(name,".jpg",sep = ""))
jpeg(file=mypath)
print(plot_list[[i]])
dev.off()
}
unique.vars[i]
unique.vars
evar <- 'Electricity production from renewable sources, excluding hydroelectric (% of total)'
#### World Bank Development Indicators
all.vars <- read.csv('WB_all_vars.csv') %>% gather(key='year',value='value',X1960..YR1960.: X2015..YR2015.)
all.vars$value <- as.numeric(all.vars$value)
#Subset
all.vars <- subset(all.vars,all.vars$Series.Name != 'Present value of external debt (current US$)' & all.vars$Series.Name != 'Present value of external debt (current US$)' & all.vars$Series.Name != 'Present value of external debt (% of GNI)' & all.vars$Series.Name != 'Population growth (annual %)' & all.vars$Series.Name != 'ICT goods imports (% total goods imports)' & all.vars$Series.Name != 'Energy related methane emissions (% of total)' & all.vars$Series.Name != 'Ease of doing business index (1=most business-friendly regulations)' & all.vars$Series.Name != 'Droughts, floods, extreme temperatures (% of population, average 1990-2009)' & all.vars$Series.Name !='Combustible renewables and waste (% of total energy)')
energy.data <- subset(all.vars,all.vars$Series.Name=='Electricity production from renewable sources, excluding hydroelectric (% of total)') %>% mutate(percentage=value)
unique.vars <- unique(all.vars$Series.Name)
evar <- 'Electricity production from renewable sources, excluding hydroelectric (% of total)'
#For loop to create all plots
plot_list = list()
for (i in 1:length(unique.vars)) {
plot.var = unique.vars[i]
energy.sub <- subset(energy.data,energy.data$Series.Name== evar & energy.data$year == 'X2012..YR2012.') %>% select(Country.Name,percentage)
var.sub <- subset(all.vars,all.vars$Series.Name==plot.var & all.vars$year == 'X2012..YR2012.') %>% select(Country.Name,value)
merged <- join(var.sub,energy.sub,by=('Country.Name'),type='left',match='all')
p <- ggplot(merged,aes(x=value,y=percentage,label=Country.Name)) + geom_point() + geom_text(aes(label=Country.Name),hjust=1, vjust=1,size=3) + xlab(plot.var) + ylab(evar)
plot_list[[i]] = p
}
# Save plots to jpeg making a separate file for each plot.
for (i in 1:length(unique.vars)) {
plot.var = unique.vars[i]
name <- substring(plot.var,1,35)
mypath <- file.path("/Users/Diego/Desktop/Projects/Energy_Transitions/total_production",paste(name,".jpg",sep = ""))
jpeg(file=mypath)
print(plot_list[[i]])
dev.off()
}
dev.off()
# Save plots to jpeg making a separate file for each plot.
for (i in 1:length(unique.vars)) {
plot.var = unique.vars[i]
name <- substring(plot.var,1,35)
mypath <- file.path("/Users/Diego/Desktop/Projects/Energy_Transitions/total_production",paste(name,".jpg",sep = ""))
jpeg(file=mypath)
print(plot_list[[i]])
dev.off()
}
# Save plots to jpeg making a separate file for each plot.
for (i in 1:length(unique.vars)) {
plot.var = unique.vars[i]
name <- substring(plot.var,1,35)
mypath <- file.path("/Users/Diego/Desktop/Projects/Energy_Transitions/total_production",paste(name,".jpg",sep = ""))
jpeg(file=mypath)
print(plot_list[[i]])
dev.off()
}
unique.vars[i]
evar
evar <- 'Electricity production from renewable sources, excluding hydroelectric (kWh)'
evar
dev.off()
#For loop to create all plots
plot_list = list()
for (i in 1:length(unique.vars)) {
plot.var = unique.vars[i]
energy.sub <- subset(energy.data,energy.data$Series.Name== evar & energy.data$year == 'X2012..YR2012.') %>% select(Country.Name,percentage)
var.sub <- subset(all.vars,all.vars$Series.Name==plot.var & all.vars$year == 'X2012..YR2012.') %>% select(Country.Name,value)
merged <- join(var.sub,energy.sub,by=('Country.Name'),type='left',match='all')
p <- ggplot(merged,aes(x=value,y=percentage,label=Country.Name)) + geom_point() + geom_text(aes(label=Country.Name),hjust=1, vjust=1,size=3) + xlab(plot.var) + ylab(evar)
plot_list[[i]] = p
}
# Save plots to jpeg making a separate file for each plot.
for (i in 1:length(unique.vars)) {
plot.var = unique.vars[i]
name <- substring(plot.var,1,35)
mypath <- file.path("/Users/Diego/Desktop/Projects/Energy_Transitions/total_production",paste(name,".jpg",sep = ""))
jpeg(file=mypath)
print(plot_list[[i]])
dev.off()
}
unique.vars[i]
unique.vars[i]
print(i)
evar <- 'Electricity production from renewable sources, excluding hydroelectric (% of total)'
energy.sub <- subset(energy.data,energy.data$Series.Name== evar & energy.data$year == 'X2012..YR2012.') %>% select(Country.Name,percentage)
var.sub <- subset(all.vars,all.vars$Series.Name==plot.var & all.vars$year == 'X2012..YR2012.') %>% select(Country.Name,value)
merged <- join(var.sub,energy.sub,by=('Country.Name'),type='left',match='all')
p <- ggplot(merged,aes(x=value,y=percentage,label=Country.Name)) + geom_point() + geom_text(aes(label=Country.Name),hjust=1, vjust=1,size=3) + xlab(plot.var) + ylab(evar)
p
head(merged)
energy.data <- subset(all.vars,all.vars$Series.Name=='Electricity production from renewable sources, excluding hydroelectric (% of total)' & all.vars$Series.Name == 'Electricity production from renewable sources, excluding hydroelectric (% of total)')
unique.vars <- unique(all.vars$Series.Name)
evar <- 'Electricity production from renewable sources, excluding hydroelectric (kWh)'
energy.sub <- subset(energy.data,energy.data$Series.Name== evar & energy.data$year == 'X2012..YR2012.') %>% select(Country.Name,value)
head(energy.sub)
energy.data <- subset(all.vars,all.vars$Series.Name=='Electricity production from renewable sources, excluding hydroelectric (% of total)' & all.vars$Series.Name == 'Electricity production from renewable sources, excluding hydroelectric (% of total)')
head(energy.data)
unique(energy.data$Series.Name)
energy.data <- subset(all.vars,all.vars$Series.Name=='Electricity production from renewable sources, excluding hydroelectric (% of total)' | all.vars$Series.Name == 'Electricity production from renewable sources, excluding hydroelectric (% of total)')
unique(energy.data$Series.Name)
energy.data <- subset(all.vars,all.vars$Series.Name =='Electricity production from renewable sources, excluding hydroelectric (% of total)' & all.vars$Series.Name == 'Electricity production from renewable sources, excluding hydroelectric (% of total)')
unique(energy.data$Series.Name)
length(unique(energy.data$Series.Name))
evar <- 'Electricity production from renewable sources, excluding hydroelectric (kWh)'
energy.sub <- subset(all.vars,all.vars$Series.Name== evar & energy.data$year == 'X2012..YR2012.') %>% select(Country.Name,value)
head(energy.sub)
merged <- join(var.sub,energy.sub,by=('Country.Name'),type='left',match='all')
p <- ggplot(merged,aes(x=value,y=percentage,label=Country.Name)) + geom_point() + geom_text(aes(label=Country.Name),hjust=1, vjust=1,size=3) + xlab(plot.var) + ylab(evar)
p
p <- ggplot(merged,aes(x=value,y=value,label=Country.Name)) + geom_point() + geom_text(aes(label=Country.Name),hjust=1, vjust=1,size=3) + xlab(plot.var) + ylab(evar)
p
head(merged)
energy.sub <- subset(all.vars,all.vars$Series.Name== evar & energy.data$year == 'X2012..YR2012.') %>% select(Country.Name,value) %>% mutate(eval=value)
var.sub <- subset(all.vars,all.vars$Series.Name==plot.var & all.vars$year == 'X2012..YR2012.') %>% select(Country.Name,value)
energy.sub <- subset(all.vars,all.vars$Series.Name== evar & energy.data$year == 'X2012..YR2012.') %>% select(Country.Name,value) %>% mutate(eval=value)
var.sub <- subset(all.vars,all.vars$Series.Name==plot.var & all.vars$year == 'X2012..YR2012.') %>% select(Country.Name,value)
merged <- join(var.sub,energy.sub,by=('Country.Name'),type='left',match='all')
p <- ggplot(merged,aes(x=value,y=eval,label=Country.Name)) + geom_point() + geom_text(aes(label=Country.Name),hjust=1, vjust=1,size=3) + xlab(plot.var) + ylab(evar)
p
head(merged)
energy.sub <- subset(all.vars,all.vars$Series.Name== evar & energy.data$year == 'X2012..YR2012.') %>% select(Country.Name,value) %>% mutate(eval=value)
var.sub <- subset(all.vars,all.vars$Series.Name==plot.var & all.vars$year == 'X2012..YR2012.') %>% select(Country.Name,value)
head(energy.sub)
energy.sub <- subset(all.vars,all.vars$Series.Name== evar & energy.data$year == 'X2012..YR2012.') %>% mutate(eval=value) %>% select(Country.Name,eval)
var.sub <- subset(all.vars,all.vars$Series.Name==plot.var & all.vars$year == 'X2012..YR2012.') %>% select(Country.Name,value)
merged <- join(var.sub,energy.sub,by=('Country.Name'),type='left',match='all')
head(merged)
p <- ggplot(merged,aes(x=value,y=eval,label=Country.Name)) + geom_point() + geom_text(aes(label=Country.Name),hjust=1, vjust=1,size=3) + xlab(plot.var) + ylab(evar)
p
head(merged)
evar
plot.var = unique.vars[i]
plot.var
energy.sub <- subset(all.vars,all.vars$Series.Name== evar & energy.data$year == 'X2012..YR2012.') %>% mutate(eval=value) %>% select(Country.Name,eval)
head(energy.sub)
hist(energy.sub$eval)
hist(energy.sub$eval,na.rm=TRUE)
energy.sub <- subset(all.vars,all.vars$Series.Name== evar & all.vars$year == 'X2012..YR2012.') %>% mutate(eval=value) %>% select(Country.Name,eval)
head(energy.sub)
hist(energy.sub$eval)
dev.off()
hist(energy.sub$eval)
evar <- 'Electricity production from renewable sources, excluding hydroelectric (% of total)'
energy.sub <- subset(all.vars,all.vars$Series.Name==evar & all.vars$year == 'X2012..YR2012.') %>% mutate(eval=value) %>% select(Country.Name,eval)
head(energy.sub)
hist(energy.sub$eval)
sum(energy.sum$eval)
sum(energy.sub$eval)
head(all.vars)
energy.sub <- subset(all.vars,all.vars$Series.Name==evar & all.vars$year == 'X2012..YR2012.') %>% mutate(eval=value) %>% select(Country.Name,eval)
head(energy.sub)
head(energy.sub,200)
class(all.vars$eval)
class(energy.sub$eval)
sum(energy.sub$eval)
sum(energy.sub$eval,na.rm=TRUE)
energy.sub <- subset(all.vars,all.vars$Series.Name==evar & all.vars$year == 'X2012..YR2012.') %>% mutate(eval=value) %>% select(Country.Name,eval)
var.sub <- subset(all.vars,all.vars$Series.Name==plot.var & all.vars$year == 'X2012..YR2012.') %>% select(Country.Name,value)
head(var.syb)
head(var.sub)
merged <- join(var.sub,energy.sub,by=('Country.Name'),type='left',match='all')
head(merged)
head(merged,100)
head(merged
head(merged)
class(merged$value)
class(merged$eval)
ggplot(merged,aes(x=value,y=eval,label=Country.Name)) + geom_point()
dev.off()
ggplot(merged,aes(x=value,y=eval,label=Country.Name)) + geom_point()
dev.off()
#For loop to create all plots
plot_list = list()
for (i in 1:length(unique.vars)) {
plot.var = unique.vars[i]
energy.sub <- subset(all.vars,all.vars$Series.Name==evar & all.vars$year == 'X2012..YR2012.') %>% mutate(eval=value) %>% select(Country.Name,eval)
var.sub <- subset(all.vars,all.vars$Series.Name==plot.var & all.vars$year == 'X2012..YR2012.') %>% select(Country.Name,value)
merged <- join(var.sub,energy.sub,by=('Country.Name'),type='left',match='all')
p <- ggplot(merged,aes(x=value,y=eval,label=Country.Name)) + geom_point() + geom_text(aes(label=Country.Name),hjust=1, vjust=1,size=3) + xlab(plot.var) + ylab(evar)
plot_list[[i]] = p
}
# Save plots to jpeg making a separate file for each plot.
for (i in 1:length(unique.vars)) {
plot.var = unique.vars[i]
name <- substring(plot.var,1,35)
mypath <- file.path("/Users/Diego/Desktop/Projects/Energy_Transitions/total_production",paste(name,".jpg",sep = ""))
jpeg(file=mypath)
print(plot_list[[i]])
dev.off()
}
evar <- 'Electricity production from renewable sources, excluding hydroelectric (kWh)'
evar
dev.off()
plot_list = list()
for (i in 1:length(unique.vars)) {
plot.var = unique.vars[i]
energy.sub <- subset(all.vars,all.vars$Series.Name==evar & all.vars$year == 'X2012..YR2012.') %>% mutate(eval=value) %>% select(Country.Name,eval)
var.sub <- subset(all.vars,all.vars$Series.Name==plot.var & all.vars$year == 'X2012..YR2012.') %>% select(Country.Name,value)
merged <- join(var.sub,energy.sub,by=('Country.Name'),type='left',match='all')
p <- ggplot(merged,aes(x=value,y=eval,label=Country.Name)) + geom_point() + geom_text(aes(label=Country.Name),hjust=1, vjust=1,size=3) + xlab(plot.var) + ylab(evar)
plot_list[[i]] = p
}
# Save plots to jpeg making a separate file for each plot.
for (i in 1:length(unique.vars)) {
plot.var = unique.vars[i]
name <- substring(plot.var,1,35)
mypath <- file.path("/Users/Diego/Desktop/Projects/Energy_Transitions/total_production",paste(name,".jpg",sep = ""))
jpeg(file=mypath)
print(plot_list[[i]])
dev.off()
}
head(all_vars)
head(all.vars)
setwd('/Users/Diego/Desktop/Data/energy_transitions')
climate.scope <- read.csv('climatescope2014.csv')
head(climate.scope)
unique.climatescope.vars <- unique(climate.scope$Policy.Var)
unique.climatescope.vars
evar <- 'Electricity production from renewable sources, excluding hydroelectric (% of total)'
energy.sub <- subset(all.vars,all.vars$Series.Name==evar & all.vars$year == 'X2012..YR2012.') %>% mutate(eval=value) %>% select(Country.Name,eval)
head(climate.scope)
var.sub <- subset(climate.scope,climate.scope$Series.Name==plot.var & all.vars$year == 'X2012..YR2012.') %>% select(Country.Name,Score)
var.sub <- subset(climate.scope,climate.scope$Policy.Var==plot.var & all.vars$year == 'X2012..YR2012.') %>% select(Country.Name,Score)
plot.var = 'Clean energy policies'
var.sub <- subset(climate.scope,climate.scope$Policy.Var==plot.var & all.vars$year == 'X2012..YR2012.') %>% select(Country.Name,Score)
var.sub <- subset(climate.scope,climate.scope$Policy.Var==plot.var) %>% select(Country.Name,Score)
head(var.sub)
merged <- join(var.sub,energy.sub,by=('Country.Name'),type='left',match='all')
head(merged)
ggplot(merged,aes(x=Score,y=eval,label=Country.Name)) + geom_point()
plot(merged$Score,merged$eval)
plot_list = list()
for (i in 1:length(unique.climatescope.vars)) {
plot.var = unique.climatescope.vars[i]
energy.sub <- subset(all.vars,all.vars$Series.Name==evar & all.vars$year == 'X2012..YR2012.') %>% mutate(eval=value) %>% select(Country.Name,eval)
var.sub <- subset(climate.scope,climate.scope$Policy.Var==plot.var) %>% select(Country.Name,Score)
merged <- join(var.sub,energy.sub,by=('Country.Name'),type='left',match='all')
p <- ggplot(merged,aes(x=Score,y=eval,label=Country.Name)) + geom_point() + geom_text(aes(label=Country.Name),hjust=1, vjust=1,size=3) + xlab(plot.var) + ylab(evar)
plot_list[[i]] = p
}
# Save plots to jpeg making a separate file for each plot.
for (i in 1:length(unique.climatescope.vars)) {
plot.var = unique.vars[i]
name <- substring(plot.var,1,35)
mypath <- file.path("/Users/Diego/Desktop/Projects/Energy_Transitions/climatescope_percent_renewables",paste(name,".jpg",sep = ""))
jpeg(file=mypath)
print(plot_list[[i]])
dev.off()
}
plot.var
head(merged)
unique.climatescope.vars[1]
unique.climatescope.vars[2]
unique.climatescope.vars[3]
plot.var
print(plot.var)
plot_list = list()
for (i in 1:length(unique.climatescope.vars)) {
plot.var = unique.climatescope.vars[i]
print(plot.var)
energy.sub <- subset(all.vars,all.vars$Series.Name==evar & all.vars$year == 'X2012..YR2012.') %>% mutate(eval=value) %>% select(Country.Name,eval)
var.sub <- subset(climate.scope,climate.scope$Policy.Var==plot.var) %>% select(Country.Name,Score)
merged <- join(var.sub,energy.sub,by=('Country.Name'),type='left',match='all')
p <- ggplot(merged,aes(x=Score,y=eval,label=Country.Name)) + geom_point() + geom_text(aes(label=Country.Name),hjust=1, vjust=1,size=3) + xlab(plot.var) + ylab(evar)
plot_list[[i]] = p
}
# Save plots to jpeg making a separate file for each plot.
for (i in 1:length(unique.climatescope.vars)) {
plot.var = unique.climatescope.vars[i]
name <- substring(plot.var,1,35)
mypath <- file.path("/Users/Diego/Desktop/Projects/Energy_Transitions/climatescope_percent_renewables",paste(name,".jpg",sep = ""))
jpeg(file=mypath)
print(plot_list[[i]])
dev.off()
}
setwd('/Users/Diego/Desktop/cleanweb_hackathon/csv')
file.a <- read.csv('uw_supplier_data120214.csv')
head(file.a)
class(file.a)
file.b <- read.csv('uw_supplier_data110414.csv')
file.c <- read.csv('uw_supplier_data100714.csv')
names(file.a)
vars <- ('Supplier.Name','Stage.Invoked','Reporting.Month','Total.Monthly.Potable.Water.Production.2014','Total.Monthly.Potable.Water.Production.2013','Units','Total.Population.Served','REPORTED.Residential.Gallons.per.Capita.Day..R.GPCD...starting.in.September.2014.')
vars <- c('Supplier.Name','Stage.Invoked','Reporting.Month','Total.Monthly.Potable.Water.Production.2014','Total.Monthly.Potable.Water.Production.2013','Units','Total.Population.Served','REPORTED.Residential.Gallons.per.Capita.Day..R.GPCD...starting.in.September.2014.')
file.a <- file.a[vars]
head(file.a)
file.a <- read.csv('uw_supplier_data120214.csv')
file.a <- vars[as.data.frame(read.csv('uw_supplier_data120214.csv'))]
file.a <- as.data.frame(read.csv('uw_supplier_data120214.csv'))[vars]
file.c <- as.data.frame(read.csv('uw_supplier_data100714.csv'))[vars]
file.b <- as.data.frame(read.csv('uw_supplier_data110414.csv'))]vars]
file.b <- as.data.frame(read.csv('uw_supplier_data110414.csv'))[vars]
file.c <- as.data.frame(read.csv('uw_supplier_data100714.csv'))[vars]
file.c <- as.data.frame(read.csv('uw_supplier_data100714.csv'))
head(file.c)
names(file.c)
names(file.a)
vars <- c('Supplier.Name','Stage.Invoked','Reporting.Month','Total.Monthly.Potable.Water.Production.2014','Total.Monthly.Potable.Water.Production.2013','Units','Total.Population.Served')
file.c <- as.data.frame(read.csv('uw_supplier_data100714.csv'))[vars]
names(file.c)
unique(file.a$Supplier.Name)
file.d <- as.data.frame(read.csv('june2014june2015.csv.csv'))
file.d <- as.data.frame(read.csv('june2014june2015.csv'))
names(file.d)
vars2 <- c('Supplier.Name','Stage.Invoked','Reporting.Month','REPORTED.Total.Monthly.Potable.Water.Production.2014.2015','REPORTED.Total.Monthly.Potable.Water.Production.2013','REPORTED.Units','Total.Population.Served')
file.d <- as.data.frame(read.csv('june2014june2015.csv'))[vars2]
names(file.d)
file.d <- as.data.frame(read.csv('june2014june2015.csv'))[vars2] %>% mutate(Total.Monthly.Potable.Water.Production.2014=REPORTED.Total.Monthly.Potable.Water.Production.2014.2015,Total.Monthly.Potable.Water.Production.2013=REPORTED.Total.Monthly.Potable.Water.Production.2013,Units=REPORTED.Units)
names(file.d)
names(file.a)
file.d <- as.data.frame(read.csv('june2014june2015.csv'))[vars2] %>% mutate(Total.Monthly.Potable.Water.Production.2014=REPORTED.Total.Monthly.Potable.Water.Production.2014.2015,Total.Monthly.Potable.Water.Production.2013=REPORTED.Total.Monthly.Potable.Water.Production.2013,Units=REPORTED.Units) %>% select('Supplier.Name','Stage.Invoked','Reporting.Month','Total.Monthly.Potable.Water.Production.2014','Total.Monthly.Potable.Water.Production.2013','Units','Total.Population.Served')
names(file.d)
file.d <- as.data.frame(read.csv('june2014june2015.csv'))[vars2] %>% mutate(Total.Monthly.Potable.Water.Production.2014=REPORTED.Total.Monthly.Potable.Water.Production.2014.2015,Total.Monthly.Potable.Water.Production.2013=REPORTED.Total.Monthly.Potable.Water.Production.2013,Units=REPORTED.Units) %>% select(Supplier.Name,Stage.Invoked,Reporting.Month,Total.Monthly.Potable.Water.Production.2014,Total.Monthly.Potable.Water.Production.2013,Units,Total.Population.Served)
names(file.d)
length(unique(file.a$Supplier.Name))
length(unique(file.d$Supplier.Name))
names(vars1)
names(file.d)
head(file.d)
setwd('/Users/Diego/Desktop/Projects_Code/cleanweb_hackathon/waterSharing/data/csv')
file.e <- as.data.frame(read.csv('june2014_august2015.csv'))
head(file.e)
names(file.e)
vars2 <- c('Supplier.Name','Stage.Invoked','Reporting.Month','REPORTED.Total.Monthly.Potable.Water.Production.2014.2015','REPORTED.Total.Monthly.Potable.Water.Production.2013','REPORTED.Units','Total.Population.Served','Conservation.Standard..starting.in.June.2015.')
vars3 <- c('Supplier.Name','Stage.Invoked','Reporting.Month','REPORTED.Total.Monthly.Potable.Water.Production.2014.2015','REPORTED.Total.Monthly.Potable.Water.Production.2013','REPORTED.Units','Total.Population.Served','Optional...Implementation','Conservation.Standard..starting.in.June.2015.')
file.e <- as.data.frame(read.csv('june2014_august2015.csv'))[vars3]
names(file.e)
length(file.e$Supplier.Name)
length(unique(file.e$Supplier.Name))
all.rationing.town.data <- as.data.frame(read.csv('june2014_august2015.csv'))[vars3] #This is variable that includes all data
hist(all.rationing.town.data$REPORTED.Total.Monthly.Potable.Water.Production.2014.2015)
